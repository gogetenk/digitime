@using Digitime.Shared.Contracts.Projects;
@using Microsoft.AspNetCore.Components.Routing

@if (Projects != null)
{
    <ul role="list" class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
        @foreach (var project in Projects)
        {
            <li class="col-span-1 divide-y divide-gray-200 rounded-lg bg-white shadow-sm hover:border-gray-400 border-gray-200 border-1">
                <NavLink href="@GetUrl(project)">
                    <div class="flex w-full items-center justify-between space-x-6 p-6">
                        <div class="flex-1 truncate">
                            <div class="flex items-center space-x-3">
                                <h3 class="truncate text-md font-medium text-gray-900">@project.Title</h3>
                                <span class="inline-block flex-shrink-0 rounded-full bg-green-100 px-2 py-0.5 text-xs font-medium text-green-800">Admin</span>
                            </div>
                            <p class="mt-3 truncate text-sm text-gray-500">@project.Code </p>
                            <p class="truncate text-sm text-gray-500">@project.Members.Count Timesheets</p>
                            <p class="truncate text-sm text-gray-500">@project.Members.Count Timesheets</p>
                        </div>
                        <div class="h-14 w-14 flex-shrink-0 rounded-full bg-gray-300 flex">
                            <p class="self-center w-full h-full m-0 p-0">@project.Title.Substring(0,2).ToUpper()</p>
                        </div>
                    </div>
                </NavLink>
            </li>
        }
    </ul>
}

@code
{
    [Parameter]
    public List<ProjectDto> Projects { get; set; }

    public string GetUrl(ProjectDto project) => $"/projects/{project.Id}";
}